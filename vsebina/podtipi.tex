\subsection{Podtipi}

\begin{definicija}
  Naj bo \(A\) tip in \(P\) družina tipov nad \(A\). Pravimo, da je \(P\) \emph{predikat},
  če velja \(\isprop(Px)\) za vsak \(\typejudgment{x}{A}\).
\end{definicija}

\begin{trditev}
  \label{full-subtype}
  Naj bo \(A\) tip, \(P\) predikat na \(A\), \(B\) pa družina tipov nad \(A\). Denimo, da
  obstaja družina funkcij \(\typejudgment{s}{\pitype{x}{A}{(Bx \to Px)}}\).
  Tedaj velja ekvivalenca
  \[\sumtype{x}{A}{Bx} \simeq \sumtype{t}{\sumtype{x}{A}{Px}}{B (pr_{1} t)}.\]
\end{trditev}

\begin{dokaz}
  Po asociativnosti odvisne vsote je desna stran ekvivalence ekvivalentna tipu
  \(\sumtype{x}{A}{\sumtype{p}{Px}{Bx}} = \sumtype{x}{A}{(Px \times Bx)}\).
  Po posledici \ref{equiv-tot} torej zadošča pokazati, da za vsak \(\typejudgment{x}{A}\)
  obstaja ekvivalenca \(Bx \simeq Px \times Bx\).

  Funkcijo \(\defun{f}{Bx}{Px \times Bx}\) definiramo kot
  \(\lambda \, y. \left(s(x,y),\, y\right)\), za funkcijo \(\defun{g}{Px \times Bx}{Bx}\) pa
  lahko vzamemo drugo projekcijo. Očitno velja enakost \(g(f(y)) = y\), ker pa je \(P\)
  predikat, velja tudi enakost
  \(f(g\left(p, y\right)) = \left(s(x, y), y\right) = \left(p, y\right)\).

\end{dokaz}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../Najdovski-27191110-2023"
%%% End:
